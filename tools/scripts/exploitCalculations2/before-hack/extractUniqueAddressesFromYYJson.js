const fs = require('fs');

// Read the input JSON file
const rawData = fs.readFileSync('./yield-yak-and-fortifi.json', 'utf8');
const data = JSON.parse(rawData);

// Extract unique user addresses
const uniqueAddresses = [...new Set(data.map(item => item.user_address))];

// Create output object with array of addresses
const output = {
    unique_addresses: uniqueAddresses
};

// Write to a new JSON file
fs.writeFileSync('unique_addresses.json', JSON.stringify(output, null, 2));

console.log(`Found ${uniqueAddresses.length} unique addresses`);